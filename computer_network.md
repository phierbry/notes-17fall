# 计算机网络 review

TODO
- 物理层 35页 
- 数据链路层 40页
- 网络层 80页
- 运输层 40页
- 应用层 70页


## chap-1 Introduction
### 互联网边缘部分和核心部分
边缘部分：由主机组成（端系统），两种通信模式：客户端服务器，P2P（对等连接方式）
核心部分：由路由器和网络组成 核心技术-分组转发技术
主机vs路由器：主机是为用户进行信息处理的，路由器是用来转发分组的。
分组转发技术：要转发的一整块数据是报文 message ，划分成数据段 加上首部 header 形成了分组 packet。由于首部存有包含源地址目的地址等控制信息，每一个分组可以单独转发。每传到一段链路才占用资源。路由器具有存储功能。
分组交换的优点：对每个分组动态分配传输带宽，每一个分组独立选择路由，一份组作为传输单位，不用先建立连接就能向其他主机发送分组。网络协议保证了可靠性。
分组交换的缺点：首部信息造成了额外的开销，分组交换网需要管理和控制机制，存储转发意味着排队和时延

### 计算机网络分类
作用范围分类：广域网 （WAN），局域网（LAN）。。。
网络使用者：公用网（ISP）， 专用网（自搭建）

### 性能度量
速率：数据率，比特率 bit/s 注意这仅仅是额定速率而非实际运行速率
带宽：有两种含义。频域含义：这更接近字面意思，信号的所有频率占的频域宽度。时域含义：传输通道的最高比特率，也就是速率的单位。
吞吐量（throughput）：单位时间实际传输的数据量。速率和带宽作为额定速率，所以是吞吐量的上限。
时延：总时延 = 发送时延 + 传输时延 + 处理时延 + 排队时延
发送时延：节点（主机或路由器）发送一个数据帧所需的时间，= 数据帧长度/发送速率 ， 一个个bit全部通过出口的总时间
传输时延：在链路上传输， = 信道长度/传输速率
处理时延：节点（主机或路由）需要处理首部等信息
排队时延：在路由器的内存中等待前面的分组先传
易错点：高速链路网络（减小的是发送时延而非传输时延），传输时延取决于物理介质。提高带宽使用的技术是减小发送时延（侧面说明了发送时延占的一定主导地位）。
其他的度量单位还有：时延带宽积，往返时间，利用率。

### 计算机网络体系结构
分层结构
- 五层协议 - 物理层，数据链路层，网络层，运输层，应用层
- OSI 7层 - 物理层，数据链路层，网络层，运输层，会话层，表示层，应用层
- TCP/IP - 网络接口层，网际层IP，运输层（TCP，UDP），应用层（TELNET，FTP，SSH，SMTP。。。）
每一层应该具有的基本功能
- 差错控制：保证可靠性
- 流量控制：发送端的传输要保证接收端能够来得及收
- 连接建立和释放：发送端主导建立的逻辑连接
- 复用和分用：发送端自上而下复用，接收端自下而上分用
- 分段和重装：发送端自上而下分段，接收端自下而上重装

五层协议 （传输单位，任务，协议）自上而下
- 应用层：报文message，应用进程间的交互和通信，常见的协议是万维网的HTTPS，电子邮件的SMTP，域名的DNS。。。
- 运输层：两台主机中进程之间的通信，主要有TCP和UDP两种协议
	- TCP（transmission control protocol）单位是报文段（segment），面向连接的，可靠的数据传输
	- UDP（user datagram protocol）单位是用户数据报（user datagram），无连接，最大努力，不保证可靠
- 网络层：IP数据报（数据报，分组），为分组交换网的不同主机提供传输。协议IP（Internet protocol）无连接的网际协议。
- 数据链路层：帧frame，两个节点之间的数据传输，控制信息（同步，地址，差错控制）。除了加首部以外还要加尾部。
- 物理层：bit，由于是比特流，所以不再加首部和尾部，考虑发送的参数和接收时的解码，但是不用规定传输介质。

TCP/IP 体系结构
- 主机使用全部的四层，路由器只使用下面的两层“网络接口层”和“网际层”。
- TCP/IP没有按照严格的分层发展，上面的运输层和应用层可能直接的使用下面的网际层甚至是网络接口层。

PDU protocol data unit 协议数据单元

